(this["webpackJsonpreact-take-home"]=this["webpackJsonpreact-take-home"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),i=n(5),o=n.n(i),s=n(4),r=n.n(s),l=n(6),d=n(2),u=(n(14),function(e){var t=e.data,n=e.onClose;return Object(c.jsxs)("div",{className:"modal",children:[Object(c.jsx)("div",{className:"modal-overlay"}),Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("span",{className:"modal-content_close",onClick:n,children:"X"}),Object(c.jsx)("h2",{className:"modal-content_title",children:"THANK YOU FOR SUBMITTING"}),Object(c.jsx)("div",{className:"modal-content_detail",children:t.map((function(e){return Object(c.jsxs)("p",{children:[e.categoryId,": ",e.nomineeId]})}))})]})]})}),j=(n(15),function(e){var t=e.category,n=e.selected,a=e.nominees,i=e.onCategoryClick,o=e.onNomineeClick,s=(a.find((function(e){return e.categoryId===t.id}))||{}).nomineeId;return Object(c.jsxs)("div",{className:"category-container","data-testid":"categoryItem",children:[Object(c.jsx)("div",{className:"category".concat(n?" active":""),onClick:function(){return i(t.id)},"data-testid":"categoryItemToggle",children:Object(c.jsx)("h3",{children:t.title})}),Object(c.jsx)("div",{className:"nominee-container".concat(n?" show":""),children:t.items.map((function(e){return Object(c.jsxs)("div",{className:"nominee".concat(s===e.id?" active":""),"data-testid":"nomineeItem",children:[Object(c.jsx)("h4",{className:"nominee-title",children:e.title}),Object(c.jsx)("img",{className:"nominee-image",src:e.photoUrL,alt:"logo"}),Object(c.jsx)("button",{className:"btn nominee-btn",onClick:function(){return o(t.id,e.id)},children:"CHOOSE"})]},e.id)}))})]},t.id)}),m=n(7),b=function(){return Object(c.jsx)("div",{className:"content-wrapper",children:Object(c.jsx)(m.a,{height:"100",width:"100",color:"grey",ariaLabel:"loading"})})},O={getBallotData:function(){return fetch("/api/getBallotData").then((function(e){return e.json()}))}},f=(n(16),function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(!1),s=Object(d.a)(o,2),m=s[0],f=s[1],h=Object(a.useState)(""),g=Object(d.a)(h,2),x=g[0],p=g[1],v=Object(a.useState)([]),N=Object(d.a)(v,2),C=N[0],y=N[1],I=Object(a.useCallback)(Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getBallotData();case 2:t=e.sent,console.log(t),setTimeout((function(){i(t.items),y(t.items.map((function(e){return{categoryId:e.id,nomineeId:""}})))}),3e3);case 5:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){I()}),[I]);var k=function(){return f((function(e){return!e}))},w=function(e){p((function(t){return e===t?"":e}))},S=function(e,t){y((function(n){return n.map((function(n){return n.categoryId===e&&(n.nomineeId=t),n}))}))};return Object(c.jsxs)("div",{className:"ballot",children:[Object(c.jsx)("h1",{className:"title",children:"awards 2021"}),Object(c.jsx)("hr",{}),0===n.length?Object(c.jsx)(b,{}):Object(c.jsxs)("div",{className:"content-wrapper",children:[n.map((function(e){return Object(c.jsx)(j,{category:e,selected:x===e.id,nominees:C,onCategoryClick:w,onNomineeClick:S},e.id)})),Object(c.jsx)("button",{type:"button",className:"btn submit-btn",onClick:function(){return k()},children:"SUBMIT"})]}),m&&Object(c.jsx)(u,{data:C,onClose:function(){return k()}})]})}),h=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(f,{})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};n(17),n(18);o.a.render(Object(c.jsx)(h,{}),document.getElementById("root")),g()}},[[19,1,2]]]);
//# sourceMappingURL=main.92da69e1.chunk.js.map