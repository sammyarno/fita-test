(this["webpackJsonpreact-take-home"]=this["webpackJsonpreact-take-home"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),i=n(5),o=n.n(i),s=n(4),r=n.n(s),l=n(6),d=n(2),u=(n(13),function(e){var t=e.data,n=e.onClose;return Object(c.jsxs)("div",{className:"modal",children:[Object(c.jsx)("div",{className:"modal-overlay"}),Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("span",{className:"modal-content_close",onClick:n,children:"X"}),Object(c.jsx)("h2",{className:"modal-content_title",children:"THANK YOU FOR SUBMITTING"}),Object(c.jsx)("div",{className:"modal-content_detail",children:t.map((function(e){return Object(c.jsxs)("p",{children:[e.categoryId,": ",e.nomineeId]})}))})]})]})}),j=(n(14),function(e){var t=e.category,n=e.selected,a=e.nominees,i=e.onCategoryClick,o=e.onNomineeClick,s=(a.find((function(e){return e.categoryId===t.id}))||{}).nomineeId;return Object(c.jsxs)("div",{className:"category-container","data-testid":"categoryItem",children:[Object(c.jsx)("div",{className:"category".concat(n?" active":""),onClick:function(){return i(t.id)},"data-testid":"categoryItemToggle",children:Object(c.jsx)("h3",{children:t.title})}),Object(c.jsx)("div",{className:"nominee-container".concat(n?" show":""),children:t.items.map((function(e){return Object(c.jsxs)("div",{className:"nominee".concat(s===e.id?" active":""),"data-testid":"nomineeItem",children:[Object(c.jsx)("h4",{className:"nominee-title",children:e.title}),Object(c.jsx)("img",{className:"nominee-image",src:e.photoUrL,alt:"logo"}),Object(c.jsx)("button",{className:"btn nominee-btn",onClick:function(){return o(t.id,e.id)},children:"CHOOSE"})]},e.id)}))})]},t.id)}),m=function(){return Object(c.jsx)("div",{className:"content-wrapper",children:Object(c.jsx)("h4",{children:"Loading"})})},b={getBallotData:function(){return fetch("/api/getBallotData").then((function(e){return e.json()}))}},O=(n(15),function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(!1),s=Object(d.a)(o,2),O=s[0],f=s[1],h=Object(a.useState)(""),x=Object(d.a)(h,2),g=x[0],p=x[1],v=Object(a.useState)([]),N=Object(d.a)(v,2),C=N[0],I=N[1],y=Object(a.useCallback)(Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getBallotData();case 2:t=e.sent,console.log(t),setTimeout((function(){i(t.items),I(t.items.map((function(e){return{categoryId:e.id,nomineeId:""}})))}),3e3);case 5:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){y()}),[y]);var k=function(){return f((function(e){return!e}))},w=function(e){p((function(t){return e===t?"":e}))},S=function(e,t){I((function(n){return n.map((function(n){return n.categoryId===e&&(n.nomineeId=t),n}))}))};return Object(c.jsxs)("div",{className:"ballot",children:[Object(c.jsx)("h1",{className:"title",children:"awards 2021"}),Object(c.jsx)("hr",{}),0===n.length?Object(c.jsx)(m,{}):Object(c.jsxs)("div",{className:"content-wrapper",children:[n.map((function(e){return Object(c.jsx)(j,{category:e,selected:g===e.id,nominees:C,onCategoryClick:w,onNomineeClick:S},e.id)})),Object(c.jsx)("button",{type:"button",className:"btn submit-btn",onClick:function(){return k()},children:"SUBMIT"})]}),O&&Object(c.jsx)(u,{data:C,onClose:function(){return k()}})]})}),f=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(O,{})})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};n(16);o.a.render(Object(c.jsx)(f,{}),document.getElementById("root")),h()}],[[17,1,2]]]);
//# sourceMappingURL=main.b74fb8d7.chunk.js.map